---
import fetchApi from '@src/lib/strapi'
import type { QuienesSomosHome } from '@src/types/home/quienesSomosHome'

const data = await fetchApi<QuienesSomosHome>({
  endpoint: 'home',
  query: {
    'populate[Contenido][on][ayllus-componente.imagen-quienes-somos][populate]':
      '*'
  },
  wrappedByKey: 'data'
})

const imagenQuienesSomos = data.Contenido[0].Foto;
---

<div class="container mx-auto px-4 my-28 relative">
  <h1
    class="text-3xl sm:text-4xl font-extrabold text-center mb-6 sm:mb-8 text-ayllus-title"
  >
    Quiénes somos
  </h1>
  <div
    class="flex flex-col sm:flex-row sm:justify-center items-center sm:items-stretch gap-6 bg-white p-4 sm:p-6 relative"
  >
    <div class="w-full sm:w-auto z-0">
      <img
        id="background"
        src={imagenQuienesSomos.url}
        alt="Quienes Somos"
        class="rounded-3xl w-[583px] h-[407px] max-w-full sm:max-w-[32rem] object-cover"
      />
    </div>

    <div
      class="relative w-full sm:w-[25rem] bg-purple-50 p-4 sm:p-12 rounded-3xl flex flex-col justify-between z-10 sm:-translate-x-12 sm:translate-y-4 text-center"
    >
      <h2
        class="text-lg sm:text-2xl font-semibold text-ayllus-primay mb-3 sm:mb-4"
      >
        Una Cooperativa de Ahorro y crédito
      </h2>
      <p class="text-ayllus-title mb-3 sm:mb-4 text-sm sm:text-lg">
        Seis años en el mercado, creado con la finalidad de atender aquella
        población marginada por el sistema financiero bancario tradicional.
      </p>
      <a
        href="/nosotros/nuestra-historia"
        class="inline-block bg-ayllus-primay text-white py-2 px-4 rounded-lg hover:bg-ayllus-primay text-sm sm:text-base font-bold"
        >Conoce más sobre nosotros</a
      >
    </div>
  </div>
</div>
