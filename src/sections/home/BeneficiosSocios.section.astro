---
import fetchApi from '@src/lib/strapi'
import Icon from '@src/components/share/Icon.component.astro'
import type { QuienesSomosHome } from '@src/types/home/quienesSomosHome'

const data = await fetchApi<QuienesSomosHome>({
  endpoint: 'home',
  query: {
    'populate[Contenido][on][ayllus-componente.imagen-beneficios-de-ser-socio][populate]':
      '*'
  },
  wrappedByKey: 'data'
})

const imagenQuienesSomos = data.Contenido[0].Foto;
---

<div class="container mx-auto px-4 my-28 relative">
  <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-ayllus-title">
    Beneficios de ser socio
  </h1>
  <h4 class="text-xl font-semibold text-center text-ayllus-primary mb-6 sm:mb-8">
    ¿Buscas seguridad financiera y beneficios exclusivos?
  </h4>
  <div
    class="flex flex-col sm:flex-row sm:justify-center items-center sm:items-stretch gap-6 bg-white p-4 sm:p-6 relative"
  >
    <div class="w-full sm:w-auto z-0">
      <img
        id="background"
        src={imagenQuienesSomos.url}
        alt="Quienes Somos"
        class="rounded-3xl w-[583px] h-[407px] max-w-full sm:max-w-[32rem] object-cover"
        fetchpriority="high"
      />
    </div>

    <div
      class="relative w-full sm:w-[25rem] bg-purple-50 p-4 sm:p-8 rounded-3xl flex flex-col z-10 sm:-translate-x-12 sm:translate-y-4 justify-evenly gap-4 sm:gap-0"
    >
      <div class="flex items-center space-x-4 sm:text-xl text-sm">
        <Icon
          name="bar-chart-rounded"
          className="sm:w-10 sm:h-10 w-5 h-5 text-ayllus-primary"
        />
        <p class="text-gray-700 font-medium">
          Accede a préstamos con bajos intereses.
        </p>
      </div>
      <div class="flex items-center space-x-4 sm:text-xl text-sm">
        <Icon
          name="streamline:money-cash-bill-2-currency-billing-payment-finance-cash-bill-money-accounting"
          className="sm:w-10 sm:h-10 w-5 h-5 text-ayllus-primary"
        />
        <p class="text-gray-700 font-medium">
          Depósitos a plazo fijo y ¡sin comisiones!
        </p>
      </div>
      <div class="flex items-center space-x-4 sm:text-xl text-sm">
        <Icon
          name="tabler:sparkles"
          className="sm:w-10 sm:h-10 w-5 h-5 text-ayllus-primary"
        />
        <p class="text-gray-700 font-medium">
          Incentivos y participa en sorteos.
        </p>
      </div>
      <a
        href="#"
        class="inline-block bg-ayllus-secondary  text-center text-white py-2 px-4 rounded-lg hover:bg-ayllus-secondary  text-sm sm:text-base font-bold"
        >Conoce más aquí</a
      >
    </div>
  </div>
</div>
